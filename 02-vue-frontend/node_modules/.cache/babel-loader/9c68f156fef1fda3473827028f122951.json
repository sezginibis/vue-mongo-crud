{"ast":null,"code":"import PostTitle from '@/components/posts/PostTitle.vue';\nimport { reactive, ref } from 'vue';\nimport { createUrl } from '../config/URIPath.js';\nexport default {\n  name: 'PostCreate',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const post = reactive({\n      _id: '',\n      title: '',\n      description: ''\n    });\n    const postEnv = process.env.VUE_BACKEND_POSTS_URI;\n    const title = ref('This is an post create page');\n\n    async function postSave() {\n      const data = {\n        title: post.title,\n        description: post.description\n      };\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }; // console.log(requestOptions);\n\n      await fetch(\"http://127.0.0.1:5000/posts\", requestOptions).then(response => {\n        response.json();\n        window.location.href = '/posts';\n      }).then(json => post.value = json);\n    }\n\n    const __returned__ = {\n      post,\n      postEnv,\n      title,\n      postSave,\n      PostTitle,\n      reactive,\n      ref,\n      createUrl\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AACA,OAAOA,SAAP,MAAsB,kCAAtB;AACA,SAASC,QAAT,EAAmBC,GAAnB,QAA8B,KAA9B;AACA,SAASC,SAAT,QAA0B,sBAA1B;;;;;;;;IAEA,MAAMC,IAAI,GAAGH,QAAQ,CAAC;MAClBI,GAAG,EAAE,EADa;MAElBC,KAAK,EAAE,EAFW;MAGlBC,WAAW,EAAE;IAHK,CAAD,CAArB;IAMA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,qBAA5B;IACA,MAAML,KAAK,GAAGJ,GAAG,CAAC,6BAAD,CAAjB;;IAEA,eAAeU,QAAf,GAA0B;MACtB,MAAMC,IAAI,GAAG;QACTP,KAAK,EAAEF,IAAI,CAACE,KADH;QAETC,WAAW,EAAEH,IAAI,CAACG;MAFT,CAAb;MAIA,MAAMO,cAAc,GAAG;QACnBC,MAAM,EAAE,MADW;QAEnBC,OAAO,EAAE;UAAE,gBAAgB;QAAlB,CAFU;QAGnBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;MAHa,CAAvB,CALsB,CAUtB;;MACA,MAAMO,KAAK,CAAC,6BAAD,EAAgCN,cAAhC,CAAL,CACLO,IADK,CACAC,QAAQ,IAAI;QACdA,QAAQ,CAACC,IAAT;QACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;MACH,CAJK,EAKLL,IALK,CAKAE,IAAI,IAAInB,IAAI,CAACuB,KAAL,GAAaJ,IALrB,CAAN;IAMH","names":["PostTitle","reactive","ref","createUrl","post","_id","title","description","postEnv","process","env","VUE_BACKEND_POSTS_URI","postSave","data","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","window","location","href","value"],"sources":["C:/Users/Administrator/Desktop/test/vue-mongo-crud/02-vue-frontend/src/components/posts/PostCreate.vue"],"sourcesContent":["<script setup>\r\nimport PostTitle from '@/components/posts/PostTitle.vue';\r\nimport { reactive, ref } from 'vue';\r\nimport { createUrl } from '../config/URIPath.js';\r\n\r\nconst post = reactive({\r\n    _id: '',\r\n    title: '',\r\n    description: ''\r\n});\r\n\r\nconst postEnv = process.env.VUE_BACKEND_POSTS_URI;\r\nconst title = ref('This is an post create page');\r\n\r\nasync function postSave() {\r\n    const data = {\r\n        title: post.title,\r\n        description: post.description\r\n    };\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(data)\r\n    };\r\n    // console.log(requestOptions);\r\n    await fetch(\"http://127.0.0.1:5000/posts\", requestOptions)\r\n    .then(response => {\r\n        response.json()\r\n        window.location.href = '/posts';\r\n    })\r\n    .then(json => post.value = json);\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<template>\r\n<div>\r\n<PostTitle :title=\"title\" />\r\n{{postEnv}}\r\n            <!-- <form @submit.prevent=\"editSave(post._id, event)\"> DATA CHECK CONTROL AFTER -->\r\n            <div class=\"form-floating mb-3\">\r\n                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"Post Title\" v-model=\"post.title\">\r\n                <label for=\"title\">Post Title</label>\r\n            </div>\r\n            <div class=\"form-floating\">\r\n                <textarea class=\"form-control\" placeholder=\"Post Description\" id=\"description\" style=\"height: 100px\"\r\n                    v-model=\"post.description\"></textarea>\r\n                <label for=\"description\">Post Description</label>\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"d-grid gap-2 mt-4\">\r\n                            <button class=\"btn btn-success\" type=\"button\" @click=\"postSave\">New Create Post</button>\r\n                        </div>\r\n                        <div class=\"d-grid gap-2 mt-4\">\r\n                            <router-link to=\"/posts\" class=\"btn btn-warning\">Cancel</router-link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        <!-- </form> -->\r\n</div>\r\n</template>\r\n"]},"metadata":{},"sourceType":"module"}