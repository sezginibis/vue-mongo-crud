{"ast":null,"code":"import { createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card mt-3\"\n};\nconst _hoisted_2 = {\n  class: \"text-start badge bg-light text-wrap text-muted extra-small\"\n};\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"No post found!\", -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = [_hoisted_5];\nconst _hoisted_7 = {\n  class: \"card-title\"\n};\nconst _hoisted_8 = {\n  class: \"card-text\"\n};\nconst _hoisted_9 = {\n  class: \"container\"\n};\nconst _hoisted_10 = {\n  class: \"row\"\n};\nconst _hoisted_11 = {\n  class: \"d-grid gap-2 mt-4\"\n};\nconst _hoisted_12 = {\n  class: \"d-grid gap-2 mt-4\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"Cancel\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode($setup[\"PostTitle\"], {\n    title: $setup.title\n  }, null, 8\n  /* PROPS */\n  , [\"title\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"span\", _hoisted_2, \"_id: \" + _toDisplayString($setup.post._id), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_3, [$setup.deneme ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _hoisted_6)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"h5\", _hoisted_7, _toDisplayString($setup.post.title), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", _hoisted_8, _toDisplayString($setup.post.description), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    onMouseover: _cache[0] || (_cache[0] = $event => $setup.btn = 'success'),\n    onMouseleave: _cache[1] || (_cache[1] = $event => $setup.btn = 'danger'),\n    class: _normalizeClass(\"btn btn-block btn-\" + $setup.btn),\n    onClick: $setup.deletePost\n  }, _toDisplayString($setup.btn == 'danger' ? 'Are you sure you want to delete this post?' : 'Yes. I want it deleted.'), 35\n  /* TEXT, CLASS, HYDRATE_EVENTS */\n  )]), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_router_link, {\n    to: \"/posts\",\n    class: \"btn btn-warning\"\n  }, {\n    default: _withCtx(() => [_hoisted_13]),\n    _: 1\n    /* STABLE */\n\n  })])])])])])]);\n}","map":{"version":3,"mappings":";;EA8CaA,KAAK,EAAC;;;EACDA,KAAK,EAAC;;;EACPA,KAAK,EAAC;;;;;;gCAEHC,oBAAuB,IAAvB,EAAuB,IAAvB,EAAI,gBAAJ,EAAkB;AAAA;AAAlB;;oBAAAC;;EAEAF,KAAK,EAAC;;;EACPA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EAMNA,KAAK,EAAC;;;kDAC0C;;;;;uBAnB7EG,oBAyBU,KAzBV,EAyBU,IAzBV,EAyBU,CAxBNC,aAA4BC,mBAA5B,EAA4B;IAAhBC,KAAK,EAAED;EAAS,CAA5B,EAAwB,IAAxB,EAAwB;EAAA;EAAxB,EAAwB,SAAxB,CAwBM,EAvBFJ,oBAsBM,KAtBN,cAsBM,CArBFA,oBAAmG,MAAnG,cAAyE,UAAKM,iBAAGF,YAAKG,GAAR,CAA9E,EAAyF;EAAA;EAAzF,CAqBE,EApBFP,oBAmBM,KAnBN,cAmBM,CAlBUI,+BAAZF,oBAEO,MAFP,EAEOM,UAFP,EAEOC,UAFP,sCAkBE,EAfFT,oBAA4C,IAA5C,cAA4CM,iBAAlBF,YAAKC,KAAa,CAA5C,EAAoC;EAAA;EAApC,CAeE,EAdFL,oBAA+C,GAA/C,cAA+CM,iBAAvBF,YAAKM,WAAkB,CAA/C,EAAwC;EAAA;EAAxC,CAcE,EAbFV,oBAYM,KAZN,cAYM,CAXFA,oBAUM,KAVN,eAUM,CATFA,oBAKM,KALN,eAKM,CAJFA,oBAGS,QAHT,EAGS;IAHAW,WAAS,sCAAEP,aAAG,SAAL,CAGT;IAH6BQ,YAAU,sCAAER,aAAG,QAAL,CAGvC;IAFJL,KAAK,yCAAyBK,UAAzB,CAED;IAFgCS,OAAK,EAAET;EAEvC,CAHT,mBAEOA,cAAG,QAAH,GAAG,4CAAH,GAAG,0BAFV,EAEU;EAAA;EAFV,CAIE,CALN,CASE,EAHFJ,oBAEM,KAFN,eAEM,CADFG,aAAqEW,sBAArE,EAAqE;IAAxDC,EAAE,EAAC,QAAqD;IAA5ChB,KAAK,EAAC;EAAsC,CAArE;sBAAiD,MAAM;;;;GAAvD,CACE,CAFN,CAGE,CAVN,CAWE,CAZN,CAaE,CAnBN,CAoBE,CAtBN,CAuBE,CAzBV","names":["class","_createElementVNode","_hoisted_5","_createElementBlock","_createVNode","$setup","title","_toDisplayString","_id","_hoisted_4","_hoisted_6","description","onMouseover","onMouseleave","onClick","_component_router_link","to"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\test\\vue-mongo-crud\\02-vue-frontend\\src\\components\\posts\\PostDelete.vue"],"sourcesContent":["<script setup>\r\nimport { createUrl, pathMain } from '@/config/URIPath';\r\nimport PostTitle from '@/components/posts/PostTitle.vue';\r\nimport { onBeforeMount, ref, computed } from 'vue';\r\nimport { useRoute } from 'vue-router'\r\nconst route = useRoute()\r\n\r\nconst post = ref([]);\r\n\r\nconst title = ref('This is an post delete page');\r\n\r\nconst btn = ref('danger');\r\n\r\nconst deneme = computed(() => {\r\n    if (route.params.id !== post.value._id) {\r\n        return true\r\n    }\r\n})\r\n\r\nonBeforeMount(async () => {\r\n    try {\r\n        await fetch('http://127.0.0.1:5000/post/' + route.params.id)\r\n            .then(response => response.json())\r\n            .then(json => post.value = json);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n});\r\n\r\nasync function deletePost() {\r\n    const requestOptions = {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' }\r\n    };\r\n    await fetch('http://127.0.0.1:5000/post-delete/' + route.params.id, requestOptions)\r\n        .then(response => {\r\n            response.json()\r\n            window.location.href = '/posts';\r\n        })\r\n        .catch(error => console.log(error));\r\n}\r\n\r\n</script>\r\n<template>\r\n<div>\r\n    <PostTitle :title=\"title\" />\r\n        <div class=\"card mt-3\">\r\n            <span class=\"text-start badge bg-light text-wrap text-muted extra-small\">_id: {{ post._id }}</span>\r\n            <div class=\"card-body\">\r\n                <span v-if=\"deneme\">\r\n                    <h3>No post found!</h3>\r\n                </span>\r\n                <h5 class=\"card-title\">{{ post.title }}</h5>\r\n                <p class=\"card-text\">{{ post.description }}</p>\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"d-grid gap-2 mt-4\">\r\n                            <button @mouseover=\"btn = 'success'\" @mouseleave=\"btn = 'danger'\"\r\n                                :class='\"btn btn-block btn-\" + btn' @click=\"deletePost\">\r\n                                {{ btn == 'danger' ? 'Are you sure you want to delete this post?' : 'Yes. I want it deleted.' }}\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"d-grid gap-2 mt-4\">\r\n                            <router-link to=\"/posts\" class=\"btn btn-warning\">Cancel</router-link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n.extra-small {\r\n    font-size: 0.6rem;\r\n    font-style: italic;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}