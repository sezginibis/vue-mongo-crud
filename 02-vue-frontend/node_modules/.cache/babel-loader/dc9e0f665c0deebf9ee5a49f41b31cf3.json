{"ast":null,"code":"import { readUrl } from '@/config/URIPath';\nimport PostCreateVue from './PostCreate.vue';\nimport { onBeforeMount, ref } from 'vue';\nexport default {\n  name: 'PostIndex',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const posts = ref([]);\n    const post = ref([]);\n    onBeforeMount(async () => {\n      try {\n        await fetch('http://127.0.0.1:5000/posts').then(response => response.json()).then(json => posts.value = json);\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    async function postView(id) {\n      try {\n        await fetch('http://127.0.0.1:5000/post/' + id).then(response => response.json()).then(json => post.value = json);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    function boxOpen() {}\n\n    const __returned__ = {\n      posts,\n      post,\n      postView,\n      boxOpen,\n      readUrl,\n      PostCreateVue,\n      onBeforeMount,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AACA,SAASA,OAAT,QAAwB,kBAAxB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,SAASC,aAAT,EAAwBC,GAAxB,QAAmC,KAAnC;;;;;;;;IAEA,MAAMC,KAAK,GAAGD,GAAG,CAAC,EAAD,CAAjB;IACA,MAAME,IAAI,GAAGF,GAAG,CAAC,EAAD,CAAhB;IAEAD,aAAa,CAAC,YAAY;MACtB,IAAI;QACA,MAAMI,KAAK,CAAC,6BAAD,CAAL,CACDC,IADC,CACIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADhB,EAEDF,IAFC,CAEIE,IAAI,IAAIL,KAAK,CAACM,KAAN,GAAcD,IAF1B,CAAN;MAGH,CAJD,CAIE,OAAOE,KAAP,EAAc;QACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACH;IACJ,CARY,CAAb;;IAUA,eAAeG,QAAf,CAAwBC,EAAxB,EAA4B;MACxB,IAAI;QACA,MAAMT,KAAK,CAAC,gCAAgCS,EAAjC,CAAL,CACDR,IADC,CACIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADhB,EAEDF,IAFC,CAEIE,IAAI,IAAIJ,IAAI,CAACK,KAAL,GAAaD,IAFzB,CAAN;MAGH,CAJD,CAIE,OAAOE,KAAP,EAAc;QACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACH;IACJ;;IAED,SAASK,OAAT,GAAmB,CAElB","names":["readUrl","PostCreateVue","onBeforeMount","ref","posts","post","fetch","then","response","json","value","error","console","log","postView","id","boxOpen"],"sources":["C:/Users/Administrator/Desktop/test/vue-mongo-crud/02-vue-frontend/src/components/posts/PostIndex.vue"],"sourcesContent":["<script setup>\r\nimport { readUrl } from '@/config/URIPath';\r\nimport PostCreateVue from './PostCreate.vue';\r\nimport { onBeforeMount, ref } from 'vue';\r\n\r\nconst posts = ref([]);\r\nconst post = ref([]);\r\n\r\nonBeforeMount(async () => {\r\n    try {\r\n        await fetch('http://127.0.0.1:5000/posts')\r\n            .then(response => response.json())\r\n            .then(json => posts.value = json);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n});\r\n\r\nasync function postView(id) {\r\n    try {\r\n        await fetch('http://127.0.0.1:5000/post/' + id)\r\n            .then(response => response.json())\r\n            .then(json => post.value = json);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction boxOpen() {\r\n\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n    <table class=\"table table-hover table-responsive\">\r\n        <thead>\r\n            <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Title</th>\r\n                <th scope=\"col\">Description</th>\r\n                <th scope=\"col\">Operations</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <template v-if=\"posts.length > 0\">\r\n                <tr v-for=\"(i, index) in posts\" :key=\"i._id\">\r\n                    <th scope=\"row text-start\">{{ index + 1 }}</th>\r\n                    <td class=\"text-start\">\r\n                        <!-- Button trigger modal -->\r\n                        <a href=\"#\" @click=\"postView(i._id)\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                            {{ i.title }}\r\n                        </a>\r\n                        <!-- Modal -->\r\n                        <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n                            aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <div class=\"container\">\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col align-self-start\">\r\n                                                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">{{ post.title }}</h5>\r\n                                                </div>\r\n                                                <div class=\"col align-self-center\">\r\n                                                    &nbsp;\r\n                                                </div>\r\n                                                <div class=\"col align-self-end\">\r\n                                                    <span class=\"text-end text-muted\"><small class=\"extra-small\">{{\r\n                                                            post._id\r\n                                                    }}</small></span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"\r\n                                            aria-label=\"Close\"></button>\r\n                                    </div>\r\n                                    <div class=\"modal-body\">\r\n                                        {{ post.description }}\r\n                                    </div>\r\n                                    <div class=\"modal-footer\">\r\n                                        <button type=\"button\" class=\"btn btn-secondary\"\r\n                                            data-bs-dismiss=\"modal\">Close</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td class=\"text-start\">\r\n                            {{ i.description }}\r\n                    </td>\r\n                    <td class=\"text-end\">\r\n                        <div class=\"btn-group\">\r\n                            <router-link :to=\"{ name: 'post-edit', params: { id: i._id } }\"\r\n                                class=\"btn btn-outline-success btn-sm\">Edit</router-link>\r\n                            <router-link :to=\"{ name: 'post', params: { id: i._id } }\"\r\n                                class=\"btn btn-outline-primary btn-sm\">View</router-link>\r\n                            <router-link :to=\"{ name: 'post-delete', params: { id: i._id } }\" class=\"btn btn-outline-danger btn-sm\">Del</router-link>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </template>\r\n            <tr v-else>\r\n                <td colspan=\"4\"><PostCreateVue /></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</template>\r\n\r\n<style scoped>\r\n.extra-small {\r\n    font-size: 0.5rem;\r\n\r\n}\r\n\r\n\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}