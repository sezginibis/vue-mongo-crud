{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { HOOK_PLUGIN_SETTINGS_SET } from './const';\nimport { now } from './time';\nexport class ApiProxy {\n  constructor(plugin, hook) {\n    this.target = null;\n    this.targetQueue = [];\n    this.onQueue = [];\n    this.plugin = plugin;\n    this.hook = hook;\n    const defaultSettings = {};\n\n    if (plugin.settings) {\n      for (const id in plugin.settings) {\n        const item = plugin.settings[id];\n        defaultSettings[id] = item.defaultValue;\n      }\n    }\n\n    const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n    let currentSettings = Object.assign({}, defaultSettings);\n\n    try {\n      const raw = localStorage.getItem(localSettingsSaveId);\n      const data = JSON.parse(raw);\n      Object.assign(currentSettings, data);\n    } catch (e) {// noop\n    }\n\n    this.fallbacks = {\n      getSettings() {\n        return currentSettings;\n      },\n\n      setSettings(value) {\n        try {\n          localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n        } catch (e) {// noop\n        }\n\n        currentSettings = value;\n      },\n\n      now() {\n        return now();\n      }\n\n    };\n\n    if (hook) {\n      hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n        if (pluginId === this.plugin.id) {\n          this.fallbacks.setSettings(value);\n        }\n      });\n    }\n\n    this.proxiedOn = new Proxy({}, {\n      get: (_target, prop) => {\n        if (this.target) {\n          return this.target.on[prop];\n        } else {\n          return (...args) => {\n            this.onQueue.push({\n              method: prop,\n              args\n            });\n          };\n        }\n      }\n    });\n    this.proxiedTarget = new Proxy({}, {\n      get: (_target, prop) => {\n        if (this.target) {\n          return this.target[prop];\n        } else if (prop === 'on') {\n          return this.proxiedOn;\n        } else if (Object.keys(this.fallbacks).includes(prop)) {\n          return (...args) => {\n            this.targetQueue.push({\n              method: prop,\n              args,\n              resolve: () => {}\n            });\n            return this.fallbacks[prop](...args);\n          };\n        } else {\n          return (...args) => {\n            return new Promise(resolve => {\n              this.targetQueue.push({\n                method: prop,\n                args,\n                resolve\n              });\n            });\n          };\n        }\n      }\n    });\n  }\n\n  async setRealTarget(target) {\n    this.target = target;\n\n    for (const item of this.onQueue) {\n      this.target.on[item.method](...item.args);\n    }\n\n    for (const item of this.targetQueue) {\n      item.resolve(await this.target[item.method](...item.args));\n    }\n  }\n\n}","map":{"version":3,"names":["HOOK_PLUGIN_SETTINGS_SET","now","ApiProxy","constructor","plugin","hook","target","targetQueue","onQueue","defaultSettings","settings","id","item","defaultValue","localSettingsSaveId","currentSettings","Object","assign","raw","localStorage","getItem","data","JSON","parse","e","fallbacks","getSettings","setSettings","value","setItem","stringify","on","pluginId","proxiedOn","Proxy","get","_target","prop","args","push","method","proxiedTarget","keys","includes","resolve","Promise","setRealTarget"],"sources":["C:/Users/Administrator/Desktop/test/vue-mongo-crud/02-vue-frontend/node_modules/@vue/devtools-api/lib/esm/proxy.js"],"sourcesContent":["import { HOOK_PLUGIN_SETTINGS_SET } from './const';\nimport { now } from './time';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise(resolve => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}